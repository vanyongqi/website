# å‰ç«¯é…ç½®æ–‡ä»¶è¯¦è§£

## é…ç½®æ–‡ä»¶æ¦‚è§ˆ

React + Vite + TypeScript é¡¹ç›®ä¸­æœ‰ä¸‰ä¸ªä¸»è¦é…ç½®æ–‡ä»¶ï¼š

| æ–‡ä»¶ | ä½œç”¨ | é‡è¦æ€§ |
|------|------|--------|
| `package.json` | é¡¹ç›®ä¿¡æ¯å’Œä¾èµ–ç®¡ç† | â­â­â­â­â­ |
| `tsconfig.json` | TypeScript ç¼–è¯‘é…ç½® | â­â­â­â­ |
| `vite.config.ts` | Vite æ„å»ºå·¥å…·é…ç½® | â­â­â­ |

---

## 1. package.json - é¡¹ç›®ä¿¡æ¯ä¸ä¾èµ–ç®¡ç†

### ä½œç”¨
- ğŸ“¦ å®šä¹‰é¡¹ç›®åŸºæœ¬ä¿¡æ¯
- ğŸ“¦ ç®¡ç†é¡¹ç›®ä¾èµ–åŒ…
- ğŸ“¦ å®šä¹‰å¯æ‰§è¡Œçš„è„šæœ¬å‘½ä»¤

### è¯¦ç»†è§£æ

```json
{
  "name": "web",                    // é¡¹ç›®åç§°
  "private": true,                  // ç§æœ‰é¡¹ç›®ï¼Œä¸ä¼šå‘å¸ƒåˆ° npm
  "version": "0.0.1",              // é¡¹ç›®ç‰ˆæœ¬å·
  "type": "module",                // ä½¿ç”¨ ES æ¨¡å—ï¼ˆimport/exportï¼‰
  "scripts": {                     // å¯æ‰§è¡Œçš„å‘½ä»¤
    "dev": "vite",                 // å¼€å‘æœåŠ¡å™¨ï¼šnpm run dev
    "build": "vite build",         // æ„å»ºç”Ÿäº§ç‰ˆæœ¬ï¼šnpm run build
    "preview": "vite preview"      // é¢„è§ˆæ„å»ºç»“æœï¼šnpm run preview
  },
  "dependencies": {                // ç”Ÿäº§ç¯å¢ƒä¾èµ–ï¼ˆæ‰“åŒ…åˆ°æœ€ç»ˆä»£ç ä¸­ï¼‰
    "react": "^18.3.1",           // React æ ¸å¿ƒåº“
    "react-dom": "^18.3.1",       // React DOM æ¸²æŸ“åº“
    "react-router-dom": "^6.27.0" // React è·¯ç”±åº“
  },
  "devDependencies": {             // å¼€å‘ç¯å¢ƒä¾èµ–ï¼ˆåªåœ¨å¼€å‘æ—¶éœ€è¦ï¼‰
    "@types/react": "^18.3.9",    // React çš„ TypeScript ç±»å‹å®šä¹‰
    "@types/react-dom": "^18.3.0", // React DOM çš„ TypeScript ç±»å‹å®šä¹‰
    "@vitejs/plugin-react": "^4.3.3", // Vite çš„ React æ’ä»¶
    "typescript": "^5.6.3",       // TypeScript ç¼–è¯‘å™¨
    "vite": "^5.4.10"             // Vite æ„å»ºå·¥å…·
  }
}
```

### å…³é”®æ¦‚å¿µ

#### dependencies vs devDependencies

- **dependenciesï¼ˆç”Ÿäº§ä¾èµ–ï¼‰**ï¼š
  - é¡¹ç›®è¿è¡Œæ—¶éœ€è¦çš„åŒ…
  - ä¼šè¢«æ‰“åŒ…åˆ°æœ€ç»ˆçš„ç”Ÿäº§ä»£ç ä¸­
  - ä¾‹å¦‚ï¼š`react`ã€`react-dom`ã€`react-router-dom`

- **devDependenciesï¼ˆå¼€å‘ä¾èµ–ï¼‰**ï¼š
  - åªåœ¨å¼€å‘æ—¶éœ€è¦çš„åŒ…
  - ä¸ä¼šæ‰“åŒ…åˆ°ç”Ÿäº§ä»£ç ä¸­
  - ä¾‹å¦‚ï¼š`typescript`ã€`vite`ã€`@types/*`

#### ç‰ˆæœ¬å·è§„åˆ™

- `^18.3.1`ï¼šå…¼å®¹ç‰ˆæœ¬ï¼Œå…è®¸ 18.x.x çš„æœ€æ–°ç‰ˆæœ¬
- `~18.3.1`ï¼šè¡¥ä¸ç‰ˆæœ¬ï¼Œåªå…è®¸ 18.3.x çš„æœ€æ–°ç‰ˆæœ¬
- `18.3.1`ï¼šç²¾ç¡®ç‰ˆæœ¬ï¼Œå¿…é¡»æ˜¯è¿™ä¸ªç‰ˆæœ¬

### å¸¸ç”¨å‘½ä»¤

```bash
# å®‰è£…ä¾èµ–
npm install

# å¼€å‘æ¨¡å¼
npm run dev

# æ„å»ºç”Ÿäº§ç‰ˆæœ¬
npm run build

# é¢„è§ˆæ„å»ºç»“æœ
npm run preview

# æ·»åŠ æ–°ä¾èµ–
npm install package-name

# æ·»åŠ å¼€å‘ä¾èµ–
npm install -D package-name
```

---

## 2. tsconfig.json - TypeScript é…ç½®

### ä½œç”¨
- ğŸ”§ é…ç½® TypeScript ç¼–è¯‘å™¨
- ğŸ”§ å®šä¹‰ç±»å‹æ£€æŸ¥è§„åˆ™
- ğŸ”§ è®¾ç½®ç¼–è¯‘é€‰é¡¹

### è¯¦ç»†è§£æ

```json
{
  "compilerOptions": {
    "target": "ES2020",                    // ç¼–è¯‘ç›®æ ‡ï¼šES2020 è¯­æ³•
    "useDefineForClassFields": true,       // ä½¿ç”¨æ ‡å‡†çš„ç±»å­—æ®µå®šä¹‰
    "lib": ["ES2020", "DOM", "DOM.Iterable"], // åŒ…å«çš„åº“ï¼šES2020 + DOM API
    "module": "ESNext",                    // æ¨¡å—ç³»ç»Ÿï¼šES æ¨¡å—
    "skipLibCheck": true,                  // è·³è¿‡åº“æ–‡ä»¶çš„ç±»å‹æ£€æŸ¥ï¼ˆåŠ å¿«ç¼–è¯‘ï¼‰
    "jsx": "react-jsx",                    // JSX è¯­æ³•ï¼šReact 17+ çš„æ–° JSX è½¬æ¢
    "moduleResolution": "bundler",         // æ¨¡å—è§£æï¼šä½¿ç”¨æ‰“åŒ…å·¥å…·çš„æ–¹å¼
    "resolveJsonModule": true,             // å…è®¸å¯¼å…¥ JSON æ–‡ä»¶
    "isolatedModules": true,               // æ¯ä¸ªæ–‡ä»¶éƒ½æ˜¯ç‹¬ç«‹çš„æ¨¡å—
    "noEmit": true,                        // ä¸ç”Ÿæˆç¼–è¯‘æ–‡ä»¶ï¼ˆVite è´Ÿè´£æ„å»ºï¼‰
    "strict": true,                        // å¯ç”¨ä¸¥æ ¼æ¨¡å¼
    "noUnusedLocals": false,               // å…è®¸æœªä½¿ç”¨çš„å±€éƒ¨å˜é‡
    "noUnusedParameters": false            // å…è®¸æœªä½¿ç”¨çš„å‚æ•°
  },
  "include": ["src"]                       // åŒ…å« src ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶
}
```

### é‡è¦é…ç½®è¯´æ˜

#### ä¸¥æ ¼æ¨¡å¼ï¼ˆstrict: trueï¼‰
å¯ç”¨æ‰€æœ‰ä¸¥æ ¼ç±»å‹æ£€æŸ¥ï¼š
- âœ… ä¸å…è®¸éšå¼ any ç±»å‹
- âœ… ä¸¥æ ¼çš„ null æ£€æŸ¥
- âœ… ä¸¥æ ¼çš„å‡½æ•°å‚æ•°æ£€æŸ¥
- âœ… ä¸¥æ ¼çš„å±æ€§åˆå§‹åŒ–æ£€æŸ¥

#### JSX é…ç½®ï¼ˆjsx: "react-jsx"ï¼‰
ä½¿ç”¨ React 17+ çš„æ–° JSX è½¬æ¢ï¼š
```tsx
// æ—§æ–¹å¼ï¼ˆéœ€è¦ import Reactï¼‰
import React from 'react'
function App() {
  return <div>Hello</div>
}

// æ–°æ–¹å¼ï¼ˆä¸éœ€è¦ import Reactï¼‰
function App() {
  return <div>Hello</div>
}
```

#### æ¨¡å—è§£æï¼ˆmoduleResolution: "bundler"ï¼‰
- ä½¿ç”¨ç°ä»£æ‰“åŒ…å·¥å…·ï¼ˆå¦‚ Viteï¼‰çš„æ¨¡å—è§£ææ–¹å¼
- æ”¯æŒ `import` è¯­å¥
- æ”¯æŒè·¯å¾„åˆ«å

---

## 3. vite.config.ts - Vite æ„å»ºå·¥å…·é…ç½®

### ä½œç”¨
- âš¡ é…ç½® Vite å¼€å‘æœåŠ¡å™¨
- âš¡ é…ç½®æ„å»ºé€‰é¡¹
- âš¡ é…ç½®æ’ä»¶å’Œä»£ç†

### è¯¦ç»†è§£æ

```typescript
import { defineConfig } from 'vite'
import react from '@vitejs/plugin-react'

export default defineConfig({
  plugins: [react()],              // ä½¿ç”¨ React æ’ä»¶
  server: {                        // å¼€å‘æœåŠ¡å™¨é…ç½®
    port: 5173,                    // ç«¯å£å·
    proxy: {                       // ä»£ç†é…ç½®
      '/api': {                    // ä»£ç†è·¯å¾„
        target: 'http://localhost:8080', // ä»£ç†ç›®æ ‡
        changeOrigin: true         // æ”¹å˜è¯·æ±‚å¤´ä¸­çš„ origin
      }
    }
  }
})
```

### å…³é”®é…ç½®è¯´æ˜

#### ä»£ç†é…ç½®ï¼ˆproxyï¼‰
è§£å†³å¼€å‘ç¯å¢ƒè·¨åŸŸé—®é¢˜ï¼š

```
å‰ç«¯ (localhost:5173) â†’ ä»£ç† /api â†’ åç«¯ (localhost:8080)
```

**å·¥ä½œåŸç†ï¼š**
- å‰ç«¯è¯·æ±‚ï¼š`fetch('/api/v1/ping')`
- Vite ä»£ç†ï¼šè½¬å‘åˆ° `http://localhost:8080/api/v1/ping`
- åç«¯å“åº”ï¼šè¿”å›æ•°æ®ç»™å‰ç«¯

**å¥½å¤„ï¼š**
- âœ… è§£å†³è·¨åŸŸé—®é¢˜
- âœ… å¼€å‘ç¯å¢ƒæ¨¡æ‹Ÿç”Ÿäº§ç¯å¢ƒ
- âœ… æ— éœ€ä¿®æ”¹å‰ç«¯ä»£ç 

#### React æ’ä»¶ï¼ˆplugins: [react()]ï¼‰
- æ”¯æŒ JSX è¯­æ³•
- æ”¯æŒçƒ­æ›´æ–°ï¼ˆHMRï¼‰
- æ”¯æŒ React å¼€å‘å·¥å…·

---

## é…ç½®æ–‡ä»¶ä¹‹é—´çš„å…³ç³»

```
package.json
â”œâ”€â”€ å®šä¹‰ä¾èµ– â†’ tsconfig.json éœ€è¦è¿™äº›ç±»å‹å®šä¹‰
â”œâ”€â”€ å®šä¹‰è„šæœ¬ â†’ è°ƒç”¨ vite.config.ts çš„é…ç½®
â””â”€â”€ ç®¡ç†ç‰ˆæœ¬ â†’ ç¡®ä¿æ‰€æœ‰å·¥å…·ç‰ˆæœ¬å…¼å®¹

tsconfig.json
â”œâ”€â”€ é…ç½® TypeScript â†’ ä¸º vite.config.ts æä¾›ç±»å‹æ”¯æŒ
â””â”€â”€ ç±»å‹æ£€æŸ¥ â†’ æ£€æŸ¥æ‰€æœ‰ .ts/.tsx æ–‡ä»¶

vite.config.ts
â”œâ”€â”€ ä½¿ç”¨ package.json ä¸­çš„æ’ä»¶
â”œâ”€â”€ éµå¾ª tsconfig.json çš„æ¨¡å—è§£æ
â””â”€â”€ æä¾›å¼€å‘æœåŠ¡å™¨å’Œæ„å»ºåŠŸèƒ½
```

## å¸¸è§é—®é¢˜

### Q: ä¸ºä»€ä¹ˆéœ€è¦ä¸‰ä¸ªé…ç½®æ–‡ä»¶ï¼Ÿ

A: æ¯ä¸ªæ–‡ä»¶è´Ÿè´£ä¸åŒçš„èŒè´£ï¼š
- `package.json`ï¼šé¡¹ç›®ç®¡ç†
- `tsconfig.json`ï¼šç±»å‹æ£€æŸ¥
- `vite.config.ts`ï¼šæ„å»ºå·¥å…·

### Q: å¯ä»¥åˆ é™¤æŸä¸ªé…ç½®æ–‡ä»¶å—ï¼Ÿ

A: ä¸å»ºè®®ï¼š
- âŒ åˆ é™¤ `package.json`ï¼šæ— æ³•ç®¡ç†ä¾èµ–
- âŒ åˆ é™¤ `tsconfig.json`ï¼šTypeScript æ— æ³•å·¥ä½œ
- âŒ åˆ é™¤ `vite.config.ts`ï¼šVite ä½¿ç”¨é»˜è®¤é…ç½®

### Q: å¦‚ä½•ä¿®æ”¹ç«¯å£å·ï¼Ÿ

A: åœ¨ `vite.config.ts` ä¸­ä¿®æ”¹ï¼š
```typescript
server: {
  port: 3000,  // æ”¹ä¸º 3000
}
```

### Q: å¦‚ä½•æ·»åŠ æ–°çš„ä¾èµ–ï¼Ÿ

A: ä½¿ç”¨ npm å‘½ä»¤ï¼š
```bash
# ç”Ÿäº§ä¾èµ–
npm install axios

# å¼€å‘ä¾èµ–
npm install -D @types/node
```

## æ€»ç»“

| é…ç½®æ–‡ä»¶ | ä¸»è¦ä½œç”¨ | ä¿®æ”¹é¢‘ç‡ | é‡è¦æ€§ |
|----------|----------|----------|--------|
| `package.json` | ä¾èµ–ç®¡ç†ã€è„šæœ¬å®šä¹‰ | ç»å¸¸ | â­â­â­â­â­ |
| `tsconfig.json` | TypeScript é…ç½® | å¶å°” | â­â­â­â­ |
| `vite.config.ts` | æ„å»ºå·¥å…·é…ç½® | å¶å°” | â­â­â­ |

**è®°ä½ï¼š**
- âœ… `package.json`ï¼šé¡¹ç›®çš„"èº«ä»½è¯"å’Œ"è´­ç‰©æ¸…å•"
- âœ… `tsconfig.json`ï¼šTypeScript çš„"ä½¿ç”¨è¯´æ˜ä¹¦"
- âœ… `vite.config.ts`ï¼šæ„å»ºå·¥å…·çš„"æ“ä½œæ‰‹å†Œ"

è¿™äº›é…ç½®æ–‡ä»¶å…±åŒæ„æˆäº†ç°ä»£å‰ç«¯é¡¹ç›®çš„æŠ€æœ¯åŸºç¡€ã€‚
